<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">

	<title>nodes</title>
	<meta name="description" content="nodes">
	<meta name="author" content="github/kevin-cgc">

	<style>
        * { margin: 0px; overflow: hidden; }
        .nodeinfo {
            position: fixed;
            top: 0px;
            width: 100%;
            color: #fff;
            user-select: none;
            white-space: pre;
        }
    </style>

	<meta name="theme-color" content="#000">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<div class="nodeinfo">,,,</div>
	<canvas id="canvas"></canvas>
	<script type="module">
		//////////////////////////////////////////
		//										//
		//		Create objects for testing		//
		//										//
		//////////////////////////////////////////

		import { World } from "./nodes.js";

		const mainWorld = new World(document.querySelector("#canvas"), true, document.querySelector(".nodeinfo"));
		//const mainWorld = new World(document.querySelector("#canvas"), true);
		mainWorld.camera.zoom = -0.5

		function createCube(world) {
			world.createNode([12, 50, 56.413]);
			world.createNode([12, 60, 67.695]);
			world.createNode([12, 70, 78.978]);
			world.createNode([12, 80, 90.260]);
			world.createNode([12, 90, 101.543]);
			world.createNode([24, 50, 36.235]);
			world.createNode([24, 60, 43.483]);
			world.createNode([24, 70, 50.730]);
			world.createNode([24, 80, 57.977]);
			world.createNode([24, 90, 65.224]);
			world.createNode([36, 50, 30.217]);
			world.createNode([36, 60, 36.261]);
			world.createNode([36, 70, 42.304]);
			world.createNode([36, 80, 48.348]);
			world.createNode([36, 90, 54.391]);
			world.createNode([48, 50, 27.659]);
			world.createNode([48, 60, 33.191]);
			world.createNode([48, 70, 38.723]);
			world.createNode([48, 80, 44.255]);
			world.createNode([48, 90, 49.787]);
			world.createNode([60, 50, 26.414]);
			world.createNode([60, 60, 31.697]);
			world.createNode([60, 70, 36.980]);
			world.createNode([60, 80, 42.263]);
			world.createNode([60, 90, 47.545]);

			mainWorld.camera.zoom = -4

			const f = (x,y) => (0.286974)*(x-(49.9389))**2 + (4.4307e-8)*(y-(-791702))**2 + (-27907.5)
			world.createNode([12, 50, f(12, 5000)/10]).color = "#F00";
			world.createNode([12, 60, f(12, 6000)/10]).color = "#F00";
			world.createNode([12, 70, f(12, 7000)/10]).color = "#F00";
			world.createNode([12, 80, f(12, 8000)/10]).color = "#F00";
			world.createNode([12, 90, f(12, 9000)/10]).color = "#F00";
			world.createNode([24, 50, f(24, 5000)/10]).color = "#F00";
			world.createNode([24, 60, f(24, 6000)/10]).color = "#F00";
			world.createNode([24, 70, f(24, 7000)/10]).color = "#F00";
			world.createNode([24, 80, f(24, 8000)/10]).color = "#F00";
			world.createNode([24, 90, f(24, 9000)/10]).color = "#F00";
			world.createNode([36, 50, f(36, 5000)/10]).color = "#F00";
			world.createNode([36, 60, f(36, 6000)/10]).color = "#F00";
			world.createNode([36, 70, f(36, 7000)/10]).color = "#F00";
			world.createNode([36, 80, f(36, 8000)/10]).color = "#F00";
			world.createNode([36, 90, f(36, 9000)/10]).color = "#F00";
			world.createNode([48, 50, f(48, 5000)/10]).color = "#F00";
			world.createNode([48, 60, f(48, 6000)/10]).color = "#F00";
			world.createNode([48, 70, f(48, 7000)/10]).color = "#F00";
			world.createNode([48, 80, f(48, 8000)/10]).color = "#F00";
			world.createNode([48, 90, f(48, 9000)/10]).color = "#F00";
			world.createNode([60, 50, f(60, 5000)/10]).color = "#F00";
			world.createNode([60, 60, f(60, 6000)/10]).color = "#F00";
			world.createNode([60, 70, f(60, 7000)/10]).color = "#F00";
			world.createNode([60, 80, f(60, 8000)/10]).color = "#F00";
			world.createNode([60, 90, f(60, 9000)/10]).color = "#F00";

//             const g = (m, p) => 0.070776*p - 8.00023*m + 288.006;
//             const g = (m, p) => -8.00023*(m + 192376) + 8.0074e-10*(p + 4.4187e7) - 24104.5;

            const g = (m, p) => {
            	let a = 0.286974;
                let h = 49.9389;
                let b = 0.070776;
                let k = 0.0113;
                let c = -138.408;
//                 let a = 0.0379127;
//                 let h = 97.9342;
//                 let b = 5.7143e-10;
//                 let k = 0.504586;
//                 let c = 0.0296571;
//                 let d= -0.0301453;
//             	return a*(m - h)*(d*p) + b*((p - k)**2) + c;
            	return a*((m - h)**2) + b*((p - k)) + c;
            };
			world.createNode([12, 50, g(12, 5000)/10]).color = "#0F0";
			world.createNode([12, 60, g(12, 6000)/10]).color = "#0F0";
			world.createNode([12, 70, g(12, 7000)/10]).color = "#0F0";
			world.createNode([12, 80, g(12, 8000)/10]).color = "#0F0";
			world.createNode([12, 90, g(12, 9000)/10]).color = "#0F0";
			world.createNode([24, 50, g(24, 5000)/10]).color = "#0F0";
			world.createNode([24, 60, g(24, 6000)/10]).color = "#0F0";
			world.createNode([24, 70, g(24, 7000)/10]).color = "#0F0";
			world.createNode([24, 80, g(24, 8000)/10]).color = "#0F0";
			world.createNode([24, 90, g(24, 9000)/10]).color = "#0F0";
			world.createNode([36, 50, g(36, 5000)/10]).color = "#0F0";
			world.createNode([36, 60, g(36, 6000)/10]).color = "#0F0";
			world.createNode([36, 70, g(36, 7000)/10]).color = "#0F0";
			world.createNode([36, 80, g(36, 8000)/10]).color = "#0F0";
			world.createNode([36, 90, g(36, 9000)/10]).color = "#0F0";
			world.createNode([48, 50, g(48, 5000)/10]).color = "#0F0";
			world.createNode([48, 60, g(48, 6000)/10]).color = "#0F0";
			world.createNode([48, 70, g(48, 7000)/10]).color = "#0F0";
			world.createNode([48, 80, g(48, 8000)/10]).color = "#0F0";
			world.createNode([48, 90, g(48, 9000)/10]).color = "#0F0";
			world.createNode([60, 50, g(60, 5000)/10]).color = "#0F0";
			world.createNode([60, 60, g(60, 6000)/10]).color = "#0F0";
			world.createNode([60, 70, g(60, 7000)/10]).color = "#0F0";
			world.createNode([60, 80, g(60, 8000)/10]).color = "#0F0";
			world.createNode([60, 90, g(60, 9000)/10]).color = "#0F0";
		}
		async function createTeapot(world) {
			const teapot = await (await fetch("./models/teapot.json")).json();
			await world.createModel(teapot.vertices, 250);
		}

        const waitMS = ms => new Promise(res => setTimeout(res, ms));

		window.createCube = createCube;
		window.createTeapot = createTeapot;
		window.mainWorld = mainWorld;
	</script>
</body>
</html>
